# Структура проекту

Цей документ описує структуру проекту мобільного додатку "Складський сканер".

## Основні директорії

```
lib/
├── config/          # Конфігурація додатку
├── models/          # Моделі даних
├── providers/       # Провайдери стану (State Management)
├── screens/         # Екрани додатку
├── services/        # Сервіси для роботи з API, сховищем тощо
├── theme/           # Тема та стилі додатку
└── main.dart        # Точка входу в додаток
```

## Опис компонентів

### Config

- `constants.dart` - Константи додатку (URL API, ключі для сховища тощо)

### Models

- `user_model.dart` - Модель користувача

### Providers

- `auth_provider.dart` - Провайдер для управління станом автентифікації

### Screens

- `login_screen.dart` - Екран входу (логін/пароль)
- `pin_entry_screen.dart` - Екран введення PIN-коду
- `invoice_scan_screen.dart` - Екран сканування накладної
- `product_scan_screen.dart` - Головний екран сканування товарів
- `success_scan_screen.dart` - Екран успішного сканування
- `error_extra_screen.dart` - Екран помилки "Лишній товар"
- `error_not_in_order_screen.dart` - Екран помилки "Немає в замовленні"
- `line_completed_screen.dart` - Екран завершення рядка
- `order_completed_screen.dart` - Екран завершення замовлення
- `confirm_order_screen.dart` - Екран підтвердження замовлення
- `cancel_picking_screen.dart` - Екран відміни збірки
- `account_locked_screen.dart` - Екран заблокованого акаунту

### Services

- `api_service.dart` - Сервіс для роботи з API
- `storage_service.dart` - Сервіс для роботи з локальним сховищем

### Theme

- `app_theme.dart` - Тема додатку (кольори, стилі тексту, кнопок тощо)

## Потік роботи додатку

1. **Запуск додатку** (`main.dart`)
   - Ініціалізація провайдерів
   - Відображення SplashScreen

2. **Перевірка автентифікації** (`SplashScreen`)
   - Якщо користувач авторизований, перехід до екрану введення PIN
   - Інакше перехід до екрану входу

3. **Вхід у систему** (`login_screen.dart`)
   - Введення логіну та паролю
   - Відправка запиту на сервер
   - При успіху перехід до екрану введення PIN

4. **Введення PIN-коду** (`pin_entry_screen.dart`)
   - Введення 4-значного PIN-коду
   - При успіху перехід до екрану сканування накладної

5. **Сканування накладної** (`invoice_scan_screen.dart`)
   - Сканування або введення номера накладної
   - При успіху перехід до екрану сканування товарів

6. **Сканування товарів** (`product_scan_screen.dart`)
   - Основний робочий екран
   - Сканування товарів
   - Відображення прогресу збірки
   - Можливість відміни збірки

7. **Завершення замовлення** (`order_completed_screen.dart`)
   - Відображення інформації про зібране замовлення
   - Перехід до екрану підтвердження

8. **Підтвердження замовлення** (`confirm_order_screen.dart`)
   - Підтвердження або відміна замовлення
   - При підтвердженні повернення до екрану входу

## Навігація

Додаток використовує стандартну навігацію Flutter (`Navigator`) для переходу між екранами. Основні шляхи навігації:

```
LoginScreen -> PinEntryScreen -> InvoiceScanScreen -> ProductScanScreen -> OrderCompletedScreen -> ConfirmOrderScreen -> LoginScreen
```

Додаткові екрани (помилки, успіх) показуються тимчасово і автоматично повертаються до попереднього екрану.

## Управління станом

Додаток використовує Provider для управління станом. Основні провайдери:

- `AuthProvider` - управління станом автентифікації

## Взаємодія з API

Взаємодія з API відбувається через `ApiService`, який використовує пакет `http` для виконання запитів. Токен автентифікації зберігається в `SharedPreferences` через `StorageService`.
